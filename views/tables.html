<!-- <div class="container-fluid"> -->
    <h1 class="mt-4">Tables Practice</h1>

    <div class="row">
        <div class="table-responsive">
            <table class="table responsive table-striped table-bordered table-hover" id="cars-table" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>Car Name</th>
                        <th>Year of Production</th>
                        <th>Mileage</th>
                        <th>Fuel</th>
                        <th>VIN</th>

                    </tr>
                </thead>
                <tbody>

                </tbody>
                <tfoot>
                    <tr>
                        <th>Car Name</th>
                        <th>Year of Production</th>
                        <th>Mileage</th>
                        <th>Fuel</th>
                        <th>VIN</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
<!-- </div> -->

<script>
    $(document).ready(function() {
        $("#cars-table").DataTable(
            
        )
    });

    const getCars = () => {
    $.ajax({
        url: 'api/user/cars',
        type: 'GET',
        beforeSend: function(xhr){xhr.setRequestHeader('Authentication', localStorage.getItem('token'))},
        success: function(data) {
            console.log(data)
            // let html = "";
            if (jQuery.isEmptyObject(data)) {
                // html += '<h4 class="card-title">You don\'t have any cars</h4>'
            } else {
                for (let i = 0; i < data.length; i++) {
                    $("#cars-table tbody").append('<tr>');
                    const car = data[i];   
                    for (let property in car) {
                        switch (property) {
                            case 'model_name':
                            case 'year_of_production':
                            case 'mileage':
                            case 'fuel':
                            case 'vin':
                            $("#cars-table tbody").append('<td>' + car[property] + '</td>');
                        }
                    }
                    $("#cars-table tbody").append('</tr>');
                }
            }
            // $("#cars-table tbody").html(html)
        }
        }) 
    }

    getCars();
</script>