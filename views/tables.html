<!-- <div class="container-fluid"> -->
    <h1 class="mt-4">Tables Practice</h1>

    <div class="panel-body"></div>
        <div class="table-bordered">
            <table class="table responsive" id="cars-table" cellspacing="0">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>name</th>
                        <th>status</th>
                        <th>created at</th>

                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
    </div>
<!-- </div> -->

<script>
    $(document).ready(function() {
        $("#cars-table").on("draw.dt", function () {
            $(this).find(".dataTables_empty").parents('tbody').empty();
        }).DataTable({
                    "processing": true, 
                    "serverSide": true,
                    "ajax": {
                        url: 'api/accounts',
                        type: 'GET',
                        beforeSend: function(xhr){xhr.setRequestHeader('Authentication', localStorage.getItem('token'))},
                        dataSrc: "",
                        data: function (d) {
                            d.offset = d.start;
                            d.limit = d.length;
                            d.search = d.search.value;
                            d.order = encodeURIComponent((d.order[0].dir == 'asc' ? "-" : "+") + d.columns[d.order[0].column].data);
                            console.log(d);
                        }
                    },
                    columns: [
                        // { "data": "model_name" },
                        // { "data": "year_of_production" },
                        // { "data": "mileage" },
                        // { "data": "fuel" },
                        // { "data": "vin" }
                        { "data": "id" },
                        { "data": "name" },
                        { "data": "status" },
                        { "data": "created_at" }
                    ]
                })
    });

    // const getCars = () => {
    // $.ajax({
    //     url: 'api/user/cars',
    //     type: 'GET',
    //     beforeSend: function(xhr){xhr.setRequestHeader('Authentication', localStorage.getItem('token'))},
    //     success: function(data) {
    //         console.log(data)
    //         // let html = "";
    //         if (jQuery.isEmptyObject(data)) {
    //             // html += '<h4 class="card-title">You don\'t have any cars</h4>'
    //         } else {
    //             for (let i = 0; i < data.length; i++) {
    //                 $("#cars-table tbody").append('<tr>');
    //                 const car = data[i];   
    //                 for (let property in car) {
    //                     switch (property) {
    //                         case 'model_name':
    //                         case 'year_of_production':
    //                         case 'mileage':
    //                         case 'fuel':
    //                         case 'vin':
    //                         $("#cars-table tbody").append('<td>' + car[property] + '</td>');
    //                     }
    //                 }
    //                 $("#cars-table tbody").append('</tr>');
    //             }
    //         }
    //         // $("#cars-table tbody").html(html)
    //     }
    //     }) 
    // }

    // getCars();
</script>